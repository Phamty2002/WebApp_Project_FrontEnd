(this.webpackJsonpwebapp_project_frontend=this.webpackJsonpwebapp_project_frontend||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(64),c=a.n(l),o=(a(95),a(23)),i=a(8);a(57);function m({message:e,onClose:t}){return console.log("Modal rendering with message:",e),r.a.createElement("div",{className:"modal",style:{display:e?"flex":"none"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("span",{className:"close",onClick:t},"\xd7"),r.a.createElement("p",null,e)))}var s=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[i,s]=Object(n.useState)("");return r.a.createElement("div",{className:"login-container"},r.a.createElement(m,{message:i,onClose:()=>s("")}),r.a.createElement("form",{className:"login-form",onSubmit:async function(t){t.preventDefault(),console.log("Handle login called");try{const t=await fetch("/api/login/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})});if(t.ok)console.log("Login successful, setting message"),s("Login successful! Redirecting..."),setTimeout(()=>{s(""),window.location.href="/home"},3e3);else{console.log("Login failed, setting error message");let e="Login Failed: username or password is not correct";try{e=(await t.json()).message||e}catch(n){console.error("Error parsing JSON:",n)}o(e),s(e)}}catch(c){console.log("An error occurred, setting error message"),o("An error occurred"),s("An error occurred: "+c.message)}}},r.a.createElement("h2",null,"Login"),c&&r.a.createElement("div",{className:"error-message"},c),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",name:"username",required:!0,value:e,onChange:e=>t(e.target.value)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:!0,value:a,onChange:e=>l(e.target.value)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("a",{href:"/forgot-password",className:"forgot-password-link"},"Forgot Password?")),r.a.createElement("button",{type:"submit"},"Sign In"),r.a.createElement("p",{className:"signup-link"},"Don't have an account ? ",r.a.createElement("a",{href:"/sign-up"},"Sign-Up"))))};var u=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),[s,u]=Object(n.useState)(!1);return r.a.createElement("div",{className:"signup-container"},r.a.createElement("form",{className:"signup-form",onSubmit:async function(t){t.preventDefault();try{const t=await fetch("/api/signup/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a,email:c})});if(t.ok)window.location.href="/sign-in";else{const e=await t.json();m(e.message),console.error("Sign Up failed")}}catch(i){m("An error occurred"),console.error("An error occurred",i)}}},r.a.createElement("h2",null,"Sign Up"),i&&r.a.createElement("div",{className:"error"},i),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",name:"username",required:!0,value:e,onChange:e=>t(e.target.value)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:!0,value:a,onChange:e=>l(e.target.value)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email",required:!0,value:c,onChange:e=>o(e.target.value)})),r.a.createElement("button",{type:"submit",onClick:()=>{u(!0)}},"Sign Up"),r.a.createElement("p",{className:"login-link"},"Already have an account ? ",r.a.createElement("a",{href:"/sign-in"},"Log In"))),s&&r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("span",{className:"close",onClick:()=>{u(!1)}},"\xd7"),r.a.createElement("h2",null,"Sign Up Successful"),r.a.createElement("p",null,"Your sign-up was successful. You can now log in."))))},p=a(175),d=a(172),g=a(76),E=a(169),h=a(65),f=a.n(h);var v=function(){const[e,t]=Object(n.useState)(null),a=Object(i.o)(),l=()=>{t(null)};return r.a.createElement("div",{className:"buttonContainer"},r.a.createElement(p.a,{color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:e=>{t(e.currentTarget)}},r.a.createElement(d.a,{alt:"Avatar",src:f.a})),r.a.createElement(g.a,{id:"simple-menu",anchorEl:e,keepMounted:!0,open:Boolean(e),onClose:l},r.a.createElement(E.a,{onClick:l},"My Profile"),r.a.createElement(E.a,{onClick:l},"Settings"),r.a.createElement(E.a,{onClick:()=>{localStorage.removeItem("userData"),l(),a("/sign-in")}},"Sign Out"),r.a.createElement(E.a,{onClick:()=>{a("/crud"),l()}},"Manage Product")," "))},y=a(69),b=(a(109),a(173)),x=a(170),C=a(70),S=a.n(C),j=a(71),N=a.n(j),w=a(72),P=a.n(w),O=a(73),k=a.n(O),D=a(74),T=a.n(D);var F=function(){const[e,t]=Object(n.useState)(0),a=[{name:"Pizza",description:"Delicious pizza with your toppings.",image:S.a},{name:"Hotdog",description:"A classic hotdog with your condiments.",image:N.a},{name:"Pasta",description:"Fresh pasta cooked to perfection.",image:P.a},{name:"Spaghetti",description:"Spaghetti with your choice of sauce.",image:k.a},{name:"Noodles",description:"Savory noodles with your ingredients.",image:T.a}];return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",marginTop:"20px"}},r.a.createElement(y.Carousel,{selectedItem:e,autoPlay:!0,interval:3e3,infiniteLoop:!0,showThumbs:!1,showStatus:!1,showIndicators:!1,centerMode:!0,centerSlidePercentage:33.3,onClickThumb:()=>{}},a.map((e,t)=>r.a.createElement(b.a,{key:t,style:{padding:"10px",width:"480px",display:"flex",flexDirection:"column",height:"100%",marginLeft:"-185px"}},r.a.createElement("img",{src:e.image,alt:e.name,style:{maxWidth:"100%"}}),r.a.createElement("div",{style:{padding:"10px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("h2",null,e.name),r.a.createElement("p",null,e.description)),r.a.createElement("div",{style:{height:"50px",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(x.a,{variant:"contained",color:"primary",component:o.b,to:"/menu"},"Go to Menu")))))),r.a.createElement("div",{style:{marginTop:"20px",textAlign:"center",marginLeft:"0px"}},r.a.createElement(x.a,{variant:"contained",color:"primary",onClick:()=>{t((e-1+a.length)%a.length)},style:{marginRight:"10px"}},"Previous"),r.a.createElement(x.a,{variant:"contained",color:"primary",onClick:()=>{t((e+1)%a.length)},style:{marginLeft:"10px"}},"Next")))},_=a(176),L=a(177),I=a(179),M=a(178),U=a(41),A=a.n(U);var B=function(){const e={textDecoration:"none",color:"inherit"},t={margin:"8px 16px"};return r.a.createElement(_.a,{position:"static",sx:{backgroundColor:"#B470D4",marginTop:"0px"}},r.a.createElement(L.a,null,r.a.createElement(M.a,{display:"flex",alignItems:"center"},r.a.createElement(o.b,{to:"/home",style:{display:"flex",alignItems:"center",textDecoration:"none"}},r.a.createElement("img",{src:A.a,alt:"Logo",width:"70",height:"70"}),r.a.createElement(I.a,{variant:"h6",sx:{marginLeft:2,color:"#FFFFFF"}},"Rose Petal Bistro"))),r.a.createElement(M.a,{display:"flex",flexGrow:1,justifyContent:"flex-end"},r.a.createElement(o.b,{to:"/home",style:e},r.a.createElement(x.a,{color:"inherit",sx:t},"Home")),r.a.createElement(o.b,{to:"/menu",style:e},r.a.createElement(x.a,{color:"inherit",sx:t},"Menu")),r.a.createElement(o.b,{to:"/about",style:e},r.a.createElement(x.a,{color:"inherit",sx:t},"About Us")),r.a.createElement(o.b,{to:"/contact",style:e},r.a.createElement(x.a,{color:"inherit",sx:t},"Contact")),r.a.createElement(v,null))))},z=a(75),J=a.n(z);var R=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[i,m]=Object(n.useState)("");return r.a.createElement("div",{className:"contact-container"},r.a.createElement("div",{className:"contact-card location-form"},r.a.createElement("div",{className:"location-details"},r.a.createElement("img",{src:J.a,alt:"Google Map"}),r.a.createElement("p",null,"34 \u0110. S\u1ed1 12, Tr\u01b0\u1eddng Th\u1ecd, Qu\u1eadn 9, Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh, Vi\u1ec7t Nam"),r.a.createElement("p",null,"Phone: 0374856574"),r.a.createElement("p",null,"Email: typwebapp@email.com"))),r.a.createElement("div",{className:"contact-card contact-form"},r.a.createElement("form",{onSubmit:e=>{e.preventDefault()},className:"contact-form"},r.a.createElement("div",{className:"form-header"},r.a.createElement("img",{src:A.a,className:"logo",alt:"Company Logo"}),r.a.createElement("h3",null,"Contact Support")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",value:e,onChange:e=>t(e.target.value)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",value:a,onChange:e=>l(e.target.value)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement("input",{type:"tel",id:"phone",value:c,onChange:e=>o(e.target.value)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message"},"Message"),r.a.createElement("textarea",{id:"message",value:i,onChange:e=>m(e.target.value)})),r.a.createElement("button",{type:"submit"},"Submit"))))};var H=function(){return r.a.createElement("div",{style:{backgroundColor:"#DDCCE7"}},r.a.createElement(v,null),r.a.createElement(B,null),r.a.createElement(F,null),r.a.createElement(R,null))};const q=Object(n.createContext)(),G=({children:e})=>{const[t,a]=Object(n.useState)([]);Object(n.useEffect)(()=>{fetch("/api/products").then(e=>e.json()).then(a).catch(console.error)},[]);const l={products:t,setProducts:a};return r.a.createElement(q.Provider,{value:l},e)};var W=a(166),V=a(174),Y=a(180),Q=a(181),$=a(182),K=a(168);var X=function(){const{products:e}=Object(n.useContext)(q),[t,a]=Object(n.useState)(""),[l,c]=Object(n.useState)(1),o=e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())),i=o.length,m=Math.ceil(i/8),s=8*(l-1),u=s+8,p=o.slice(s,u),d={maxWidth:"150%",maxHeight:"180px",objectFit:"cover"};return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement(W.a,{label:"Search Food",variant:"outlined",fullWidth:!0,value:t,onChange:e=>a(e.target.value),className:"search-input"}),r.a.createElement(V.a,{container:!0,className:"menu-items"},p.map(e=>r.a.createElement(V.a,{item:!0,key:e.id,xs:12,sm:6,md:4,lg:3},r.a.createElement(Y.a,{className:"menu-item-card"},r.a.createElement(Q.a,null,r.a.createElement("img",{src:e.image_path||e.image,alt:e.name,className:"menu-item-image",styles:d,onError:e=>{e.target.src="path_to_placeholder_image.jpg"},loading:"lazy"}),r.a.createElement(I.a,{variant:"h6",className:"menu-item-name"},e.name),r.a.createElement(I.a,{className:"menu-item-description"},e.description),r.a.createElement(I.a,{className:"menu-item-price"},"Price: $",e.price)),r.a.createElement($.a,null,r.a.createElement(x.a,{variant:"contained",className:"order-button",onClick:()=>(e=>{console.log("Ordering",e)})(e)},"Order")))))),r.a.createElement("div",null,r.a.createElement(K.a,{count:m,page:l,onChange:(e,t)=>{1===t?c(1):t<=m&&c(t)}})))};var Z=function(){const{products:e,setProducts:t}=Object(n.useContext)(q),[a,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(null),[i,m]=Object(n.useState)(null),[s,u]=Object(n.useState)({id:"",name:"",price:"",description:"",image_path:""}),[p,d]=Object(n.useState)({id:"",name:"",price:"",description:"",image_path:""});Object(n.useEffect)(()=>{"see"===i&&fetch("/api/products").then(e=>e.json()).then(e=>t(e)).catch(e=>console.error("Error fetching products:",e))},[i,t]);const g=e=>{const{name:t,value:a}=e.target;"update"===i?d({...p,[t]:a}):u({...s,[t]:a})},E=a=>{a.preventDefault(),console.log("Submitting product:",s),fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(e=>e.json()).then(a=>{console.log("Product created:",a),t([...e,a]),u({id:"",name:"",price:"",description:"",image_path:""})}).catch(e=>console.error("Error creating product:",e))},h=a=>{a.preventDefault(),fetch("/api/products/update/"+p.name,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({price:p.price,description:p.description,image_path:p.image_path})}).then(e=>e.json()).then(a=>{console.log("Product updated:",a),t(e.map(e=>e.id===p.id?{...e,...p}:e)),d({id:"",name:"",price:"",description:"",image_path:""})}).catch(e=>console.error("Error updating product:",e))},f=a=>{fetch("/api/products/delete/"+a,{method:"DELETE"}).then(e=>e.json()).then(n=>{console.log("Product deleted:",n),t(e.filter(e=>e.name!==a))}).catch(e=>console.error("Error deleting product:",e))},[v,y]=Object(n.useState)("");return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"button-group",style:{display:"flex",justifyContent:"start",gap:"10px"}},r.a.createElement("button",{onClick:()=>m("insert")},"Insert Products"),r.a.createElement("button",{onClick:()=>m("see")},"View Products"),r.a.createElement("button",{onClick:()=>m("update")},"Update Products"),r.a.createElement("button",{onClick:()=>m("delete")},"Delete Products")),(()=>{switch(i){case"insert":return r.a.createElement("form",{onSubmit:E},r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:s.name,onChange:g}),r.a.createElement("input",{type:"text",name:"price",placeholder:"Price",value:s.price,onChange:g}),r.a.createElement("textarea",{name:"description",placeholder:"Description",value:s.description,onChange:g}),r.a.createElement("input",{type:"text",name:"image_path",placeholder:"Image Path",value:s.image_path,onChange:g}),r.a.createElement("button",{type:"submit",style:{marginTop:"10px"}},"Insert Product"));case"see":return r.a.createElement("div",null,r.a.createElement("h3",null,"Product List"),r.a.createElement("form",{onSubmit:e=>{e.preventDefault(),fetch("/api/products/"+a).then(e=>{if(!e.ok)throw new Error("Product not found");return e.json()}).then(e=>{o(e)}).catch(e=>{console.error("Error fetching specific product:",e),o(null)})}},r.a.createElement("input",{type:"text",placeholder:"Enter product name to see details",value:a,onChange:e=>l(e.target.value),style:{marginRight:"10px"}}),r.a.createElement("button",{type:"submit",style:{marginTop:"10px"}},"Get Specific Product")),c&&r.a.createElement("div",{style:{border:"1px solid #ccc",padding:"10px",marginTop:"10px"}},r.a.createElement("p",null,r.a.createElement("strong",null,"ID:")," ",c.id),r.a.createElement("p",null,r.a.createElement("strong",null,"Name:")," ",c.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Price:")," ",c.price),r.a.createElement("p",null,r.a.createElement("strong",null,"Description:")," ",c.description),c.image_path&&r.a.createElement("img",{src:c.image_path,alt:c.name,style:{width:"100%",height:"auto",display:"block",marginBottom:"10px"}})),e.map((e,t)=>r.a.createElement("div",{key:t,style:{border:"1px solid #ccc",padding:"10px",marginBottom:"10px"}},r.a.createElement("p",null,r.a.createElement("strong",null,"ID:")," ",e.id),r.a.createElement("p",null,r.a.createElement("strong",null,"Name:")," ",e.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Price:")," ",e.price),r.a.createElement("p",null,r.a.createElement("strong",null,"Description:")," ",e.description),e.image_path&&r.a.createElement("img",{src:e.image_path,alt:e.name,style:{width:"500px",height:"300px",display:"block",marginBottom:"15px",marginTop:"10px"}}),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("button",{onClick:()=>{d(e),m("update")},style:{marginRight:"10px"}},"Update"),r.a.createElement("button",{onClick:()=>f(e.name)},"Delete")))));case"update":return r.a.createElement("form",{onSubmit:h},r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:p.name,onChange:g}),r.a.createElement("input",{type:"text",name:"price",placeholder:"Price",value:p.price,onChange:g}),r.a.createElement("textarea",{name:"description",placeholder:"Description",value:p.description,onChange:g}),r.a.createElement("input",{type:"text",name:"image_path",placeholder:"Image Path",value:p.image_path,onChange:g}),r.a.createElement("button",{type:"submit",style:{marginTop:"10px"}},"Update Product"));case"delete":const t=()=>{f(v),y("")};return r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Enter product name",value:v,onChange:e=>y(e.target.value),style:{marginRight:"10px"}}),r.a.createElement("button",{onClick:t,style:{marginTop:"10px"}},"Delete Product"));default:return null}})()))};var ee=function(){return r.a.createElement(o.a,null,r.a.createElement(G,null," ",r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",element:r.a.createElement(s,null)}),r.a.createElement(i.a,{path:"sign-in",element:r.a.createElement(s,null)}),r.a.createElement(i.a,{path:"/sign-up",element:r.a.createElement(u,null)}),r.a.createElement(i.a,{path:"/home",element:r.a.createElement(H,null)}),r.a.createElement(i.a,{path:"/menu",element:r.a.createElement(X,null)}),r.a.createElement(i.a,{path:"/crud",element:r.a.createElement(Z,null)}))))};var te=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,183)).then(({getCLS:t,getFID:a,getFCP:n,getLCP:r,getTTFB:l})=>{t(e),a(e),n(e),r(e),l(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null))),te()},41:function(e,t,a){e.exports=a.p+"static/media/logo.da11f82f.jpg"},57:function(e,t,a){},65:function(e,t,a){e.exports=a.p+"static/media/avatar.19ffa7e2.jpg"},70:function(e,t,a){e.exports=a.p+"static/media/pizza.127c5560.jpg"},71:function(e,t,a){e.exports=a.p+"static/media/hotdog.e5b21d6d.jpg"},72:function(e,t,a){e.exports=a.p+"static/media/pasta.f2800290.jpg"},73:function(e,t,a){e.exports=a.p+"static/media/spaghetti.74f7e71e.jpg"},74:function(e,t,a){e.exports=a.p+"static/media/noodles.fd1c73fa.jpg"},75:function(e,t,a){e.exports=a.p+"static/media/mapImage.11348cfe.jpg"},87:function(e,t,a){e.exports=a(110)},95:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.d2e71834.chunk.js.map